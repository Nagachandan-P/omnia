Step 10: View node inventory
=================================

When ``prepare_oim.yml`` or ``utils/inventory_tagging.yml`` is run, a set of inventory files is created in the ``/opt/omnia/omnia_inventory/`` directory on the ``omnia_core`` container, from the `Omnia database <Provision/ViewingDB.html>`_. The inventory files are created based on the type of CPUs and GPUs present on the nodes. The inventory files are:

      * ``compute_cpu_amd`` ::

            # This file is generated by omnia, and should not be edited
            [compute_cpu_amd]
            node001.omnia.test

      * ``compute_cpu_intel`` ::

            # This file is generated by omnia, and should not be edited
            [compute_cpu_intel]
            node001.omnia.test

      * ``compute_gpu_amd`` ::

           # This file is generated by omnia, and should not be edited
           [compute_gpu_amd]
           node002.omnia.test
           node003.omnia.test

      * ``compute_gpu_nvidia`` ::

            # This file is generated by omnia, and should not be edited
            [compute_gpu_nvidia]
            node001.omnia.test

      * ``compute_hostname_ip`` ::

            # This file is generated by omnia, and should not be edited
            [compute_hostname_ip]
            node001.omnia.test ansible_host=10.5.0.2
            node002.omnia.test ansible_host=10.5.0.3
            node003.omnia.test ansible_host=10.5.0.4

.. note::

    * Hostnames will only be written into the inventory files after the nodes are successfully PXE booted post provisioning.
    * For a node's hostname to list in an inventory file, two conditions must be met:

                * Node status must be "booted" in DB.
                * Node's hostname information is present in DB.
    * To regenerate all the inventory files, use the playbook ``utils/inventory_tagging.yml``.
    * After the nodes have successfully PXE booted, it may take up to three minutes for their details to appear in the generated inventory files.



